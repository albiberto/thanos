<!-- Formatter Tab -->
<div class="h-100 d-flex flex-column">
    <!-- Header -->
    <div class="text-center mb-4 pb-3 border-bottom border-success border-2">
        <h2 class="h3 mb-2 text-success fw-bold">📝 JSON Formatter</h2>
        <p class="text-muted mb-0">Format, validate, and beautify your JSON data</p>
    </div>

    <!-- Controls -->
    <div class="row g-3 mb-4">
        <div class="col-md-8">
            <div class="d-flex flex-wrap gap-2">
                <button class="btn btn-success" id="formatBtn" onclick="window.snake.formatterTabManager.formatJSON()">
                    ✨ Format JSON
                </button>
                <button class="btn btn-outline-success" id="validateBtn" onclick="window.snake.formatterTabManager.validateJSON()">
                    ✅ Validate
                </button>
                <button class="btn btn-outline-secondary" id="prettifyBtn" onclick="window.snake.formatterTabManager.prettifyJSON()">
                    🎨 Prettify
                </button>
                <button class="btn btn-outline-secondary" id="minifyBtn" onclick="window.snake.formatterTabManager.minifyJSON()">
                    📦 Minify
                </button>
                <button class="btn btn-outline-info" id="exampleJsonBtn" onclick="window.snake.formatterTabManager.loadExample()">
                    📄 Example
                </button>
                <button class="btn btn-outline-danger" id="clearJsonBtn" onclick="window.snake.formatterTabManager.clearInput()">
                    🗑️ Clear
                </button>
            </div>
        </div>
    </div>

    <!-- Main Content Area -->
    <div class="row flex-fill g-3">
        <!-- Input Section -->
        <div class="col-lg-6 d-flex flex-column">
            <div class="card h-100 border-2 border-primary-subtle">
                <div class="card-header bg-primary-subtle">
                    <h5 class="card-title mb-0 text-primary fw-semibold">📥 Input JSON</h5>
                </div>
                <div class="card-body d-flex flex-column p-0">
                    <textarea
                            id="jsonListInput"
                            class="form-control border-0 flex-fill font-monospace"
                            placeholder="Paste your JSON array here..."
                            style="font-size: 12px; line-height: 1.4; resize: none; border-radius: 0; min-height: 350px; max-height: 500px; overflow: auto;"
                    ></textarea>
                    <div class="border-top px-3 py-2 bg-light">
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="small text-muted">
                                <span>Lines: </span><span id="jsonLineCount" class="fw-semibold">0</span>
                                <span class="ms-3">Chars: </span><span id="jsonCharCount" class="fw-semibold">0</span>
                                <span class="ms-3">Items: </span><span id="jsonItemCount" class="fw-semibold">0</span>
                            </div>
                            <div id="jsonStatus" class="small text-muted">Empty</div>
                        </div>
                        <!-- Validation Status -->
                        <div id="jsonValidation" class="mt-2" style="display: none;"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Output Section -->
        <div class="col-lg-6 d-flex flex-column">
            <div class="card h-100 border-2 border-success-subtle" id="formatterOutput" style="display: none;">
                <div class="card-header bg-success-subtle d-flex justify-content-between align-items-center">
                    <h5 class="card-title mb-0 text-success fw-semibold">📤 Formatted JSON</h5>
                    <div class="d-flex gap-1">
                        <button class="btn btn-outline-success btn-sm" id="copyFormatterBtn" onclick="window.snake.formatterTabManager.copyToClipboard()">
                            📋 Copy
                        </button>
                        <button class="btn btn-outline-success btn-sm" id="exportBtn" onclick="window.snake.formatterTabManager.exportJSON()">
                            💾 Export
                        </button>
                        <button class="btn btn-outline-secondary btn-sm" id="hideOutputBtn" onclick="window.snake.formatterTabManager.hideOutput()">
                            ❌ Hide
                        </button>
                    </div>
                </div>
                <div class="card-body d-flex flex-column p-0">
                    <pre id="formatterCode" class="bg-dark text-success p-3 mb-0 flex-fill" style="font-size: 12px; line-height: 1.4; white-space: pre-wrap; word-wrap: break-word; min-height: 350px; max-height: 500px; overflow: auto; border-radius: 0;"></pre>
                </div>
            </div>

            <!-- Placeholder when no output -->
            <div class="card h-100 border-2 border-light" id="formatterPlaceholder">
                <div class="card-body d-flex flex-column justify-content-center align-items-center text-muted">
                    <div class="mb-3" style="font-size: 3rem;">📝</div>
                    <h5>Formatted JSON will appear here</h5>
                    <p class="text-center">Click "Format JSON" to process your input</p>
                </div>
            </div>
        </div>
    </div>
</div>