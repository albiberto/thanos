<div id="process-tab" class="tab-content">
    <div class="process-content">
        <!-- Header Section -->
        <div class="process-header">
            <h2>⚙️ Process Manager</h2>
            <div class="header-controls">
                <button class="button" id="addProcessorBtn">➕ Aggiungi Processore</button>
                <button class="button" id="refreshBtn">🔄 Aggiorna</button>
            </div>
        </div>

        <!-- Stats Section -->
        <div class="stats-section">
            <div class="stat-card">
                <div class="stat-value" id="activeCount">0</div>
                <div class="stat-label">Attivi</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="processingCount">0</div>
                <div class="stat-label">In Elaborazione</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="idleCount">0</div>
                <div class="stat-label">Inattivi</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="errorCount">0</div>
                <div class="stat-label">Errori</div>
            </div>
        </div>

        <!-- Filters Section -->
        <div class="filters-section">
            <div class="filter-group">
                <label for="statusFilter">Stato:</label>
                <select id="statusFilter">
                    <option value="">Tutti</option>
                    <option value="active">Attivo</option>
                    <option value="idle">Inattivo</option>
                    <option value="processing">In Elaborazione</option>
                    <option value="error">Errore</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="typeFilter">Tipo:</label>
                <select id="typeFilter">
                    <option value="">Tutti</option>
                    <option value="data">Data</option>
                    <option value="image">Image</option>
                    <option value="text">Text</option>
                    <option value="queue">Queue</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="searchFilter">Cerca:</label>
                <input type="text" id="searchFilter" placeholder="Nome o descrizione...">
            </div>
        </div>

        <!-- Processors List -->
        <div class="processors-section">
            <div id="processorsContainer">
                <!-- Initial loading message -->
                <div class="no-processors">
                    <div class="no-processors-icon">⏳</div>
                    <div class="no-processors-text">Caricamento processori...</div>
                </div>
            </div>
            <div id="loadingIndicator" class="loading-overlay" style="display: none;">
                <div class="loading-spinner"></div>
                <p>Caricamento...</p>
            </div>
        </div>
    </div>

    <!-- Processor Modal -->
    <div id="processorModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Aggiungi Processore</h3>
                <button class="close-btn" id="closeModal" type="button">&times;</button>
            </div>
            <div class="modal-body">
                <form id="processorForm">
                    <div class="form-group">
                        <label for="processorName">Nome:</label>
                        <input type="text" id="processorName" required>
                    </div>
                    <div class="form-group">
                        <label for="processorType">Tipo:</label>
                        <select id="processorType" required>
                            <option value="data">Data Processor</option>
                            <option value="image">Image Processor</option>
                            <option value="text">Text Processor</option>
                            <option value="queue">Queue Processor</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="processorDescription">Descrizione:</label>
                        <textarea id="processorDescription" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="processorPriority">Priorità:</label>
                        <select id="processorPriority">
                            <option value="low">Bassa</option>
                            <option value="medium">Media</option>
                            <option value="high">Alta</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="processorAutoStart">
                            Avvio Automatico
                        </label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="button" id="cancelBtn" type="button">Annulla</button>
                <button class="button primary" id="saveBtn" type="button">Salva</button>
            </div>
        </div>
    </div>

    <!-- Details Modal -->
    <div id="detailsModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="detailsTitle">Dettagli Processore</h3>
                <button class="close-btn" id="closeDetailsModal" type="button">&times;</button>
            </div>
            <div class="modal-body">
                <div id="detailsContent">
                    <!-- Details will be populated here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="button" id="closeDetailsBtn" type="button">Chiudi</button>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification" style="display: none;">
        <div class="notification-content">
            <span id="notificationMessage"></span>
            <button id="notificationClose" type="button">&times;</button>
        </div>
    </div>
</div>

<!-- JSON Output (used by process tab) -->
<div class="json-output" id="jsonOutput" style="display: none;">
    <h2>Generated JSON</h2>
    <div class="json-code" id="jsonCode"></div>
    <button class="button" id="copyButton" onclick="copyToClipboard()">📋 Copy JSON</button>
</div>